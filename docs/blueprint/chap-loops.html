<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<meta name="generator" content="plasTeX" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loops</title>
<link rel="next" href="chap-local.html" title="Local theory of convex integration" />
<link rel="prev" href="sect0001.html" title="Introduction" />
<link rel="up" href="index.html" title="The sphere eversion project" />
<link rel="stylesheet" href="styles/theme-blue.css" />
<link rel="stylesheet" href="styles/showmore.css" />
<link rel="stylesheet" href="styles/stylecours.css" />
</head>

<body>
<header>
<svg  id="toc-toggle" class="icon icon-list-numbered "><use xlink:href="symbol-defs.svg#icon-list-numbered"></use></svg>
<h1 id="doc_title"><a href="index.html">The sphere eversion project</a></h1>
</header>

<div class="wrapper">
<nav class="toc">
<ul class="sub-toc-0">
<li class="">
  <a href="sect0001.html"><span class="toc_ref"></span> <span class="toc_entry">Introduction</span></a>
 </li>
<li class=" active current">
  <a href="chap-loops.html"><span class="toc_ref">1</span> <span class="toc_entry">Loops</span></a>
  <span class="expand-toc">‚ñº</span>
  <ul class="sub-toc-1 active">
     <li class="">
  <a href="chap-loops.html#sec:loops_introduction"><span class="toc_ref">1.1</span> <span class="toc_entry">Introduction</span></a>
 </li>
<li class="">
  <a href="chap-loops.html#sec:preliminaries"><span class="toc_ref">1.2</span> <span class="toc_entry">Preliminaries</span></a>
 </li>
<li class="">
  <a href="chap-loops.html#a0000000012"><span class="toc_ref">1.3</span> <span class="toc_entry">Constructing loops</span></a>
 </li>

  </ul>
 </li>
<li class="">
  <a href="chap-local.html"><span class="toc_ref">2</span> <span class="toc_entry">Local theory of convex integration</span></a>
  <span class="expand-toc">‚ñ∂</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-local.html#sec:convex_integration_intro"><span class="toc_ref">2.1</span> <span class="toc_entry">Key construction</span></a>
 </li>
<li class="">
  <a href="chap-local.html#sec:inductive_step"><span class="toc_ref">2.2</span> <span class="toc_entry">The main inductive step</span></a>
 </li>
<li class="">
  <a href="chap-local.html#sec:ample_differential_relations"><span class="toc_ref">2.3</span> <span class="toc_entry">Ample differential relations</span></a>
 </li>

  </ul>
 </li>
<li class="">
  <a href="chap-global.html"><span class="toc_ref">3</span> <span class="toc_entry">Global theory of open and ample relations</span></a>
  <span class="expand-toc">‚ñ∂</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-global.html#a0000000013"><span class="toc_ref">3.1</span> <span class="toc_entry">Preliminaries</span></a>
 </li>
<li class="">
  <a href="chap-global.html#a0000000014"><span class="toc_ref">3.2</span> <span class="toc_entry">First order differential relations</span></a>
 </li>
<li class="">
  <a href="chap-global.html#sec:general_theory"><span class="toc_ref">3.3</span> <span class="toc_entry">The \(h\)-principle for open and ample differential relations</span></a>
 </li>

  </ul>
 </li>
  <li></li>	
  <li>	
  <a href="dep_graph.html">Dependency graph</a>
  </li>
  <li>	
  <a href="https://leanprover-community.github.io/sphere-eversion/">Project home</a>
  </li>
</ul>
</nav>

<div class="content">
<div class="content-wrapper">


<div class="main-text">
<h1 id="chap:loops">1 Loops</h1>

<h1 id="sec:loops_introduction">1.1 Introduction</h1>

<p>In this chapter, we explain how to construct families of loops to feed into the corrugation process explained at the end of the introduction. A loop is a map defined on the circle \(ùïä^1 = ‚Ñù/‚Ñ§\). It can also freely be seen as \(1\)-periodic maps defined on \(‚Ñù\). </p>
<p><div class="definition_thmwrapper" id="def:average">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">1.1</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#def:average">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/basic.lean#L90">loop.average</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  The average of a loop \(Œ≥\) is \(\barŒ≥ := \int _{ùïä^1} Œ≥(s)\,  ds\). </p>

  </div>
</div> </p>
<p>Throughout this document, \(E\) and \(F\) will denote finite-dimensional real vector spaces. All of this chapter is devoted to proving the following proposition. </p>
<p><div class="proposition_thmwrapper" id="prop:loops">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">1.2</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#prop:loops">#</a>
    <a class="icon proof" href="chap-loops.html#sub:proof_of_the_loop_construction_proposition"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:average">Definition 1.1</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/reparametrization.lean#L51">exists_loops</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \(U\) be an open set in \(E\) and \(K ‚äÜ U\) a compact subset. Let \(Œ©\) be a set in \(E √ó F\) such that, for each \(x\) in \(U\), \(Œ©_x := Œ© ‚à© (\{ x\}  √ó F)\) is open and connected. </p>
<p>Let \(Œ≤\) and \(g\) be maps from \(E\) to \(F\) that are smooth on \(U\). Assume that \(Œ≤(x) ‚àà Œ©_x\) for all \(x\) in \(U\), and \(g(x) = Œ≤(x)\) near \(K\). </p>
<p>If, for every \(x\) in \(U\), \(g(x)\) is in the convex hull of \(Œ©_x\), then there exists a smooth family of loops </p>
<div class="displaymath" id="a0000000015">
  \[  Œ≥ \! :E √ó [0, 1] √ó ùïä^1 ‚Üí F, (x, t, s) ‚Ü¶ Œ≥^t_x(s)  \]
</div>
<p> such that, for all \(x\) in \(U\), and all \((t, s) ‚àà [0, 1] √ó ùïä^1\) </p>
<ul class="itemize">
  <li><p>\(Œ≥^t_x(s) ‚àà Œ©_x\) </p>
</li>
  <li><p>\(Œ≥^0_x(s) = Œ≤(x)\) </p>
</li>
  <li><p>\(\barŒ≥^1_x = g(x)\) </p>
</li>
  <li><p>\(Œ≥^t_x(s) = Œ≤(x)\) if \(x\) is near \(K\). </p>
</li>
</ul>

  </div>
</div> </p>
<p>Let us briefly sketch the geometric idea behind the above proposition if we pretend there is only one point \(x\), and drop it from the notation, and also focus only on \(Œ≥^1\). By assumption, there is a finite collection of points \(p_i\) in \(Œ©\) and \(Œª_i ‚àà [0, 1]\) such that \(g\) is the barycenter \(\sum Œª_i p_i\). Since \(Œ©\) is open and connected, there is a smooth loop \(Œ≥_0\) which goes through each \(p_i\). The claim is that \(g\) is the average value of \(Œ≥ = Œ≥_0 ‚àò h\) for some self-diffeomorphism \(h\) of \(ùïä^1\). The idea is to choose \(h\) such that \(Œ≥\) rushes to \(p_1\), stays there during a time roughly \(Œª_1\), rushes to \(p_2\), etc. But, in order to achieve average exactly \(g\), it seems like \(h\) needs to be a discontinuous piecewise constant map. The assumption that \(g\) is in the <em>interior</em> of the convex hull gives enough slack to get away with a smooth \(h\). Actually the conclusion would be false without this interior assumption. </p>
<p>In the previous proof sketch, there is a lot of freedom in constructing \(Œ≥\), which is problematic when trying to do it consistently when \(x\) varies. </p>
<h1 id="sec:preliminaries">1.2 Preliminaries</h1>

<p>In this section, \(E\) is a real vector space with (finite) dimension \(d\). We‚Äôll need the Carath√©odory lemma: </p>
<p><div class="lemma_thmwrapper" id="lem:caratheodory">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.3</span>
    <span class="lemma_thmtitle">Carath√©odory‚Äôs lemma</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:caratheodory">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   If a point \(x\) of \(E\) lies in the convex hull of a set \(P\), then \(x\) can be written as the convex combination of at most \(d + 1\) points in \(P\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000016">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> By assumption, there is a finite set of points \(t_i\) in \(P\) and weights \(f_i\) such that \(x = \sum f_i t_i\), each \(f_i\) is non-negative and \(\sum f_i = 1\). The goal it to reduce the number of these points until reaching at most \(d+1\). It suffices to prove that one can get rid of one point as long as there are at least \(d+2\) points. In this case there is some vanishing combination \(\sum g_i t_i\) with \(\sum g_i = 0\) and not all \(g_i\) vanish. Let \(S = \{ i | g_i {\gt} 0\} \). Let \(i_0\) in \(S\) be an index minimizing \(f_i/g_i\). We define new weights \(k_i = f_i - g_i f_{i_0}/g_{i_0}\). Those weights sum to \(\sum f_i - (\sum g_i)f_{i_0}/g_{i_0} = 1\) and \(k_{i_0} = 0\). Each \(k_i\) is non-negative, thanks to the choice of \(i_0\) if \(i\) is in \(S\) or using that \(f_i\), \(-g_i\) and \(f_{i_0}/g_{i_0}\) are all non-negative when \(i\) is not in \(S\). It remain to compute </p>
<span>\begin{align*}  \sum _{i ‚â† i_0} k_i t_i & = \sum _i k_i t_i \\ & = \sum _i (f_i - g_i f_{i_0}/g_{i_0}) t_i \\ & = \sum _i f_i t_i - \left(\sum _i g_i t_i\right)f_{i_0}/g_{i_0}) \\ & = x \end{align*}</span>
<p> where we use \(k_{i_0} = 0\) in the first equality. <div class="proof_wrapper" id="a0000000017">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:refined_caratheodory">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.4</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:refined_caratheodory">#</a>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p> If a point \(x\) of \(E\) lies in the convex hull of a set \(P\), then \(x\) can be written as the convex combination of at most \(d + 1\) affinely independent points in \(P\) with positive coefficients. </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000018">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  <a href="chap-loops.html#lem:caratheodory">lemma 1.3</a> gives points \(p_i\) in \(P\) and non-negative weights \(w_i\) such that \(x = \sum w_i p_i\) for \(0 ‚â§ i ‚â§ k\) where \(k ‚â§ d\). We first discard every point with vanishing weights. Now suppose the \(p_i\)‚Äôs are not affinely independent. Then there is some relation \(p_{i_0} = \sum Œª_j p_j\) with positive weights \(Œª_j\). We can then discard \(p_{i_0}\) and replace each remaining \(w_j\) by \(w_j + w_{i_0}Œª _j\). <div class="proof_wrapper" id="a0000000019">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="definition_thmwrapper" id="def:surrounds_points">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">1.5</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#def:surrounds_points">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/basic.lean#L33">surrounding_pts</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  Let \(F\) be a real vector space with dimension \(d\). A point \(x\) in \(E\) is surrounded by points \(p_0\), ‚Ä¶, \(p_d\) if those points are affinely independent and there exist weights \(w_i ‚àà (0, 1)\) such that \(x = \sum _i w_i p_i\). </p>

  </div>
</div> </p>
<p>Note that, in the above definition, the number of points \(p_i\) is fixed by the dimension \(d\) of \(F\). </p>
<p><div class="lemma_thmwrapper" id="lem:int_cvx">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.6</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:int_cvx">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/int_cvx.lean#L130">eq_strict_center_mass_card_eq_dim_succ_of_mem_convex_hull_open</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>  If a point \(x\) of \(E\) lies in the convex hull of an open set \(P\), then it is surrounded by some collection of points belonging to \(P\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000020">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  <a href="chap-loops.html#lem:refined_caratheodory">Lemma 1.4</a> gives affinely independent points \(p_0, \dots , p_k\) in \(P\) such that \(x\) is the convex combination of these points with positive weights \(w_i\) (here \(k \ge 0\)). In particular, the family of vectors \(p_i - p_0\), \(1 ‚â§ i ‚â§ k\) is free. So we can complete it to a basis by appending vectors \(f_{k+1}, \dots , f_d\). We set \(p_i = p_0 + Œµf_i\) for \(i \ge k+1\). This belongs to \(P\) for \(Œµ {\gt} 0\) small enough since \(p_0\) is in \(P\) and \(P\) is open. Note that the extend family of points is still affinely independent since the vectors \(p_i - p_0\) are non-zero multiple of our basis elements. </p>
<p>The next idea is to expand the simplex spanned by the \(p_i\)‚Äôs around its center of mass \(b = 1/(d+1)\sum p_i\). So we set: </p>
<div class="displaymath" id="a0000000021">
  \[  p'_i = b + (1 + Œµ)(p_i - b).  \]
</div>
<p> Those point are all in \(P\) for \(Œµ\) small enough because \(P\) is open, and there are still affinely independent since they are the image of our original points by a homothety. Then we have: </p>
<div class="displaymath" id="a0000000022">
  \[  x = \sum _i w_i p_i = \sum _i \frac{w_i + Œµ/(d+1)}{1 + Œµ} p'_i  \]
</div>
<p> where all coefficients are positive <div class="proof_wrapper" id="a0000000023">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:smooth_barycentric_coord">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.7</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:smooth_barycentric_coord">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:surrounds_points">Definition 1.5</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>  For every \(x\) in \(E\) and every collection of points \(p ‚àà E^{d+1}\) surrounding \(x\), there is a neighborhood \(U\) of \(\{ (x, p)\} \) and a function \(w : E √ó E^{d+1} ‚Üí ‚Ñù^{d+1}\) such that, for every \((y, q)\) in \(U\), </p>
<ul class="itemize">
  <li><p>\(w\) is smooth at \((y, q)\) </p>
</li>
  <li><p>\(w(y, q) ‚àà (0, 1)\) </p>
</li>
  <li><p>\(y = \sum _{i=0}^d w_i(y, q)q_i\) </p>
</li>
</ul>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000024">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> If \(d = 0\) then there is nothing to prove. Hence we will assume \(d ‚â• 1\). Components of elements of \(E^{d+1}\) or \(‚Ñù^{d+1}\) will always be numbered from \(0\) to \(d\). By assumption, the family of points \(p_i\) is affinely independent and there are weights \(w_0, \dots , w_d\) such that \(x = \sum _i w_i p_i\) where each \(w_i\) is in \((0, 1)\) and their sum is one. In particular </p>
<span>\begin{align*}  x - p_0 & = \sum _{i=0}^d w_i p_i - \sum _{i=0}^d w_i p_0 \\ &  = \sum _{i=0}^d w_i (p_i - p_0) \\ &  = \sum _{i=1}^d w_i (p_i - p_0). \end{align*}</span>
<p>For \(q\) in \(E^{d+1}\) and \(i ‚àà \{ 1, \dots , d\} \), we set \(e_i(q) = q_i - q_0\). Since \(p\) is a collection of \(d+1\) affinely independent points, the family \(e_i(p)\) is a basis of \(e\). By continuity of the determinant, this stays true for \(q\) in \(Œ†_i B_Œ¥(p_i)\) for some positive \(Œ¥\). Let \(e^*_i(q)\) denote the elements of the dual basis. In order to prove continuity of these maps and define them for every \(q\), we fix a basis \(B\) of \(E\) and the corresponding determinant \(\det _B : E^d ‚Üí ‚Ñù\). We set \(Œ¥(q) = \det _B(e(q))\) and define </p>
<div class="displaymath" id="a0000000025">
  \[  e^*_i(q) = v ‚Ü¶ \det _B(e_1(q), \dots , e_{i-1}(q), v, e_{i+1}(q), \dots , e_d(q))/Œ¥(q).  \]
</div>
<p> which should be interpreted as the zero linear form if \(Œ¥(q) = 0\) (this interpretation is automatic if division by zero in \(‚Ñù\) is defined as zero, as it should be). The map \(q ‚Ü¶ e^*_i(q)\) is smooth on \(Œ†_i B_Œ¥(p_i)\) where \(Œ¥\) does not vanish since the determinant is polynomial. We set \(w_i(y, q) = e^*_i(q)(y - q_0)\). The computation of \(x - p_0\) above proves that \(w_i(x, p) = w_i\). We have \(y - q_0 = \sum _{i = 1}^d w_i(y, q)(q_i - q_0)\). Hence </p>
<div class="displaymath" id="a0000000026">
  \[  y = \left(1 - \sum _{i = 1}^d w_i(y, q)\right)q_0 + \sum _{i = 1}^d w_i(y, q)q_i.  \]
</div>
<p> We denote by \(w_0(y, q)\) the coefficient in front of \(q_0\) in the above formula. Hence we have \(y = \sum _{i=0}^d w_i(y, q)q_i\) with \(w_i(x, p) = w_i\) hence each \(w_i(y, q)\) is in \((0, 1)\) if \((y, q)\) is sufficiently close to \((x, p)\). <div class="proof_wrapper" id="a0000000027">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<h1 id="a0000000012">1.3 Constructing loops</h1>
<h2 id="sub:surrounding_families">1.3.1 Surrounding families</h2>

<p>It will be convenient to introduce some more vocabulary. </p>
<p><div class="definition_thmwrapper" id="def:surrounds">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">1.8</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#def:surrounds">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:surrounds_points">Definition 1.5</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L20">loop.surrounds</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   We say a loop \(Œ≥\) surrounds a vector \(v\) if \(v\) is surrounded by a collection of points belonging to the image of \(Œ≥\). Also, we fix a base point \(0\) in \(ùïä^1\) and say a loop is based at some point \(b\) if \(0\) is sent to \(b\). </p>

  </div>
</div> </p>
<p>The first main task in proving Proposition&#160;<a href="chap-loops.html#prop:loops">1.2</a> is to construct suitable families of loops \(Œ≥_x\) surrounding \(g(x)\), by assembling local families of loops. Those will then be reparametrized to get the correct average in the next section. In this section, we will work only with <em>continuous</em> loops. This will make constructions easier and we will smooth those loops in the end, taking advantage of the fact that \(Œ©\) and the surrounding condition are open. </p>
<p>Thanks to Carath√©odory‚Äôs lemma, constructing <em>one</em> such loop with values in some open \(O\) is easy as soon as \(v\) belongs to the convex hull of \(O\). </p>
<p><div class="lemma_thmwrapper" id="lem:loop_of_hull">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.9</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:loop_of_hull">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:surrounds">Definition 1.8</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L36">surrounding_loop_of_convex_hull</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   If a vector \(v\) is in the convex hull of a connected open subset \(O\) then, for every base point \(b ‚àà O\), there is a continuous family of loops \(Œ≥ \! :[0, 1] √ó ùïä^1 ‚Üí E, (t, s) ‚Ü¶ Œ≥^t(s)\) such that, for all \(t\) and \(s\): </p>
<ul class="itemize">
  <li><p>\(Œ≥^t\) is based at \(b\) </p>
</li>
  <li><p>\(Œ≥^0(s) = b\) </p>
</li>
  <li><p>\(Œ≥^t(s) ‚àà O\) </p>
</li>
  <li><p>\(Œ≥^1\) surrounds \(v\) </p>
</li>
</ul>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000028">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  Since \(O\) is open, <a href="chap-loops.html#lem:int_cvx">Lemma 1.6</a> gives points \(p_i\) in \(O\) surrounding \(x\). Since \(O\) is open and connected, it is path connected. Let \(Œª \! :[0, 1] ‚Üí Œ©_x\) be a continuous path starting at \(b\) and going through the points \(p_i\). We can concatenate \(Œª\) and its opposite to get \(Œ≥^1\), say \(Œ≥^1(s) = Œª((1-\cos 2œÄs)/2)\). This is a round-trip loop: it back-tracks when it reaches \(Œª(1)\) at \(s = 1/2\). We then define \(Œ≥^t\) as the round-trip that stops at \(s = t/2\), stays still until \(s = 1-t/2\) and then backtracks. <div class="proof_wrapper" id="a0000000029">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="definition_thmwrapper" id="def:family_surrounds">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">1.10</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#def:family_surrounds">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:surrounds">Definition 1.8</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L72">surrounding_family</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   A continuous family of loops \(Œ≥ \! :E √ó [0, 1] √ó ùïä^1 ‚Üí F, (x, t, s) ‚Ü¶ Œ≥^t_x(s)\) surrounds a map \(g \! :E ‚Üí F\) with base \(Œ≤ \! :E ‚Üí F\) on \(U ‚äÜ E\) if, for every \(x\) in \(U\), every \(t ‚àà [0, 1]\) and every \(s ‚àà ùïä^1\), </p>
<ul class="itemize">
  <li><p>\(Œ≥^t_x\) is based at \(Œ≤(x)\) </p>
</li>
  <li><p>\(Œ≥^0_x(s) = Œ≤(x)\) </p>
</li>
  <li><p>\(Œ≥^1_x\) surrounds \(g(x)\). </p>
</li>
</ul>
<p> The space of such families will be denoted by \(\operatorname{\mathcal{L}}(g, Œ≤, U)\). </p>

  </div>
</div> </p>
<p>Families of surrounding loops are easy to construct locally. </p>
<p><div class="lemma_thmwrapper" id="lem:local_loops">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.11</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:local_loops">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:family_surrounds">Definition 1.10</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L84">local_loops</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Assume \(Œ©\) is open and connected over some neighborhood of \(x_0\). If \(g(x)\) is the convex hull of \(Œ©_x\) for \(x\) near \(x_0\) then there is a continuous family of loops defined near \(x_0\), based at \(Œ≤\), taking value in \(Œ©\) and surrounding \(g\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000030">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  In this proof we don‚Äôt mention the \(t\) parameter since it plays no role, but it is still there. <a href="chap-loops.html#lem:loop_of_hull">Lemma 1.9</a> gives a loop \(Œ≥\) based at \(Œ≤(x_0)\), taking values in \(Œ©_{x_0}\) and surrounding \(g(x_0)\). We set \(Œ≥_x(s) = Œ≤(x) + (Œ≥(s) - Œ≤(x_0))\). Each \(Œ≥_x\) takes values in \(Œ©_x\) because \(Œ©\) is open over some neighborhood of \(x_0\). <a href="chap-loops.html#lem:smooth_barycentric_coord">Lemma 1.7</a> guarantees that this loop surrounds \(g(x)\) for \(x\) close enough to \(x_0\). <div class="proof_wrapper" id="a0000000031">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p>The difficulty in constructing global families of surrounding loops is that there are plenty of surrounding loops and we need to choose them consistently. The key feature of the above definition is that the \(t\) parameter not only allows us to cut out the corrugation process in the next chapter, but also brings a ‚Äúsatisfied or refund‚Äù guarantee, as explained in the next lemma. </p>
<p><div class="lemma_thmwrapper" id="lem:satisfied_or_refund">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.12</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:satisfied_or_refund">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:family_surrounds">Definition 1.10</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L98">satisfied_or_refund</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Each \(\operatorname{\mathcal{L}}(g, Œ≤, U)\) is path connected: for every \(Œ≥_0\) and \(Œ≥_1\) in \(\operatorname{\mathcal{L}}(g, Œ≤, U)\), there is a continuous map \(Œ≥ \! :[0, 1] √ó E √ó [0, 1] √ó ùïä^1 ‚Üí F, (œÑ, x, t, s) ‚Ü¶ Œ≥^t_{œÑ, x}(s)\) which interpolates between \(Œ≥_0\) and \(Œ≥_1\) in \(\operatorname{\mathcal{L}}(g, Œ≤, U)\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000032">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> Let \(œÅ\) be the piecewise affine map from \(‚Ñù\) to \(‚Ñù\) such that \(œÅ(œÑ) = 1\) if \(œÑ ‚â§ 1/2\), \(œÅ\) is affine on \([1/2, 1]\), \(œÅ(œÑ) = 0\) if \(œÑ ‚â• 1\). We set </p>
<div class="displaymath" id="a0000000033">
  \[  Œ≥_{œÑ, x}^t(s) = \begin{cases}  Œ≥_{0, x}^{œÅ(œÑ)t}\left(\frac1{1 - œÑ} s\right) &  \text{if $s {\lt} 1 - œÑ$ and $œÑ {\lt} 1$}\\ Œ≤(x) &  \text{if $s = 1 - œÑ$}\\ Œ≥_{1, x}^{œÅ(1-œÑ)t}\left(\frac1œÑ \big (s - (1- œÑ)\big )\right) &  \text{if $s {\gt} 1 - œÑ$ and $œÑ {\gt} 0$}\\ \end{cases}  \]
</div>
<p> There is no surprise and no fun in checking that this is a well-defined continuous homotopy of families of loops based at \(Œ≤\) interpolating between \(Œ≥_0\) and \(Œ≥_1\). </p>
<p>The beautiful observation motivating the above formula is why each \(Œ≥^1_{œÑ, x}\) surrounds \(g(x)\). The key is that the image of \(Œ≥^1_{œÑ, x}\) contains the image of \(Œ≥^1_{0, x}\) when \(œÑ ‚â§ 1/2\), and contains the image of \(Œ≥^1_{1, x}\) when \(œÑ ‚â• 1/2\). Hence \(Œ≥^1_{œÑ, x}\) always surrounds \(g(x)\). <div class="proof_wrapper" id="a0000000034">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="corollary_thmwrapper" id="cor:extend_loops">
  <div class="corollary_thmheading">
    <span class="corollary_thmcaption">
    Corollary
    </span>
    <span class="corollary_thmlabel">1.13</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#cor:extend_loops">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:family_surrounds">Definition 1.10</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L107">extends_loops</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="corollary_thmcontent">
  <p>   Let \(U_0\) and \(U_1\) be open sets in \(E\). Let \(K_0 ‚äÜ U_0\) and \(K_1 ‚äÜ U_1\) be compact subsets. For any \(Œ≥_0 ‚àà \operatorname{\mathcal{L}}(U_0, g, Œ≤)\) and \(Œ≥_1 ‚àà \operatorname{\mathcal{L}}(U_1, g, Œ≤)\), there exists \(U ‚àà ùìù(K_0 ‚à™ K_1)\) and there exists \(Œ≥ ‚àà \operatorname{\mathcal{L}}(U, g, Œ≤)\) which coincides with \(Œ≥_0\) near \(K_0\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000035">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  Let \(U_0'\) be an open neighborhood of \(K_0\) whose closure \(\bar U_0'\) is compact in \(U_0\). Since \(\bar U_0'\) and \(K_1' := K_1 ‚àñ (K_1 ‚à© U_0)\) are disjoint compact subsets of \(E\), there is some continuous cut-off \(œÅ \! :E ‚Üí [0, 1]\) which vanishes on \(U_0'\) and equals one on some neighborhood \(U_1'\) of \(K_1'\). </p>
<p>Lemma&#160;<a href="chap-loops.html#lem:satisfied_or_refund">1.12</a> gives a homotopy of loops \(Œ≥_œÑ\) from \(Œ≥_0\) to \(Œ≥_1\) on \(U_0 ‚à© U_1\). On \(U_0' ‚à™ (U_0 ‚à© U_1) ‚à™ U_1'\), which is a neighborhood of \(K_0 ‚à™ K_1\), we set </p>
<div class="displaymath" id="a0000000036">
  \[  Œ≥_x = \begin{cases}  Œ≥_{0, x} &  \text{for $x ‚àà U_0'$} \\ Œ≥_{œÅ(x), x} &  \text{for $x ‚àà U_0 ‚à© U_1$} \\ Œ≥_{1, x} &  \text{for $x ‚àà U_1'$} \end{cases}  \]
</div>
<p> which has the required properties. <div class="proof_wrapper" id="a0000000037">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:‚àÉ_surrounding_loops">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.14</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:‚àÉ_surrounding_loops">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:family_surrounds">Definition 1.10</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/surrounding.lean#L117">exists_surrounding_loops</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   In the setup of Proposition&#160;<a href="chap-loops.html#prop:loops">1.2</a>, assume we have a continuous family \(Œ≥\) of loops defined near \(K\) which is based at \(Œ≤\), surrounds \(g\) and such that each \(Œ≥_x^t\) takes values in \(Œ©_x\). Then there such a family which is defined on all of \(U\) and agrees with \(Œ≥\) near \(K\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000038">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  Let \(U_0\) be an open set containing \(K\) and contained in the domain of \(Œ≥\). Let \(U_0'\) be an open neighborhood of \(K\) with compact closure in \(U_0\). Let \(U_i\), \(i ‚â• 1\) be a local finite covering of \(U ‚àñ U_0'\) by open subsets not intersecting \(K\) and where the preceding observations gives families of loops \(Œ≥^i\). We also set \(Œ≥^0 = Œ≥|_{U_0}\). In particular the open sets \(U_i\), \(i ‚â• 0\) cover the whole of \(U\), and only \(U_0\) intersects \(K\). Let \(K_i\), \(0 ‚â§ i ‚â§ N\), be a family of compact sets with \(K_i ‚äÇ U_i\) which covers \(U\). We repeatedly apply Corollary&#160;<a href="chap-loops.html#cor:extend_loops">1.13</a> to \(K_i\) and \(K_{i+1}\), in this order, to get a family \(Œ≥'\) defined over all \(U\). Since each step preserves the family on \(\operatorname{Op}{K_i}\) and only \(U_0\) intersects (in fact contains) \(K\), we do have \(Œ≥' = Œ≥\) on \(\operatorname{Op}{K}\). <div class="proof_wrapper" id="a0000000039">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<h2 id="sub:the_reparametrization_lemma">1.3.2 The reparametrization lemma</h2>

<p>The second ingredient needed to prove Proposition&#160;<a href="chap-loops.html#prop:loops">1.2</a> is a parametric reparametrization lemma. </p>
<p><div class="lemma_thmwrapper" id="lem:reparametrization">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">1.15</span>
    <div class="thm_icons">
    <a class="icon proof" href="chap-loops.html#lem:reparametrization">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-loops.html#def:surrounds">Definition 1.8</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d8dad890e9bb733ff8d17dda4e32a12efbc0b053/src/loops/reparametrization.lean#L43">reparametrization</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Let \(Œ≥ \! :E √ó ùïä^1 ‚Üí F\) be a smooth family of loops surrounding a map \(g\) with base \(Œ≤\) over some \(U ‚äÜ E\). There is a family of circle diffeomorphisms \(œÜ : U √ó ùïä^1 ‚Üí ùïä^1\) such that each \(Œ≥_x ‚àò œÜ_x\) has average \(g(x)\) and \(œÜ_x(0) = 0\). </p>

  </div>
</div> </p>
<p><div class="proof_wrapper" id="a0000000040">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>  For any fixed \(x\), since \(Œ≥_x\) strictly surrounds \(g(x)\), there are points \(s_1, ‚Ä¶, s_{n+1}\) in \(ùïä^1\) such that \(g(x)\) is surrounded by the corresponding points \(Œ≥_x(s_j)\). </p>
<p>Let \(Œº_1, ‚Ä¶, Œº_{n+1}\) be smooth positive probability measures very close to the Dirac measures on \(s_j\) (ie. \(Œº_j = f_j\,  ds\) for some smooth positive function \(f_j\) and, for any function \(h\), \(\int h\, dŒº_j\) is almost \(h(s_j)\)). We set \(p_j = \int Œ≥_x\,  d\mu _j\), which is almost \(Œ≥_x(s_j)\) so that \(g(x) = \sum w_j p_j\) for some weights \(w_j\) in the open interval \((0, 1)\) according to <a href="chap-loops.html#lem:smooth_barycentric_coord">Lemma 1.7</a>. </p>
<p>If \(x'\) is in a sufficiently small neighborhood of \(x\), <a href="chap-loops.html#lem:smooth_barycentric_coord">Lemma 1.7</a> gives smooth weight functions \(w_j\) such that \(g(x') = \sum w_j(x')p_j(x')\). Let \(U^i\), \(i ‚â• 1\) be a locally finite cover of \(U\) by such neighborhoods, with corresponding measures \(Œº_j^i\), moving points \(p_j^i\) and weight functions \(w_j^i\). Let \((œÅ_i)\) be a partition of unity associated to this covering. For every \(x\), we set </p>
<div class="displaymath" id="a0000000041">
  \[  Œº_x = \sum _{i=1}^‚àû \sum _{j=1}^{n+1} œÅ_i(x)w_j^i(x)\,  Œº_j^i  \]
</div>
<p> so that: </p>
<span>\begin{align*}  \int Œ≥_x\,  dŒº_x & = \sum _i œÅ_i(x)\sum _{j=1}^{n+1} w_j^i(x) \int Œ≥_x\,  dŒº_j^i\\ & = \sum _i œÅ_i(x)\sum _{j=1}^{n+1} w_j^i(x) p_j^i(x)\\ & = \sum _i œÅ_i(x) g(x) = g(x). \end{align*}</span>
<p> We now set \(œÜ_x^{-1}(t) = \int _0^tdŒº_x\) so that \(g(x) = \overline{Œ≥_x ‚àò œÜ_x}\) for all \(x\). <div class="proof_wrapper" id="a0000000042">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>
<h2 id="sub:proof_of_the_loop_construction_proposition">1.3.3 Proof of the loop construction proposition</h2>

<p>We finally assemble the ingredients from the previous two sections. </p>
<p><div class="proof_wrapper" id="a0000000043">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div>[Proof of Proposition&#160;<a href="chap-loops.html#prop:loops">1.2</a>]   Let \(Œ≥^*\) be a family of loops surrounding the origin in \(F\), constructed using <a href="chap-loops.html#lem:local_loops">Lemma 1.11</a>. For \(x\) in some neighborhood \(U^*\) of \(K\) where \(g = Œ≤\), we set \(Œ≥_x = g(x) + ŒµŒ≥^*\) where \(Œµ {\gt} 0\) is sufficiently small to ensure the image of \(Œ≥_x\) and its convex hull are contained in \(Œ©_x\) (recall \(Œ©\) is open and \(K\) is compact). Lemma&#160;<a href="chap-loops.html#lem:‚àÉ_surrounding_loops">1.14</a> extends this family to a continuous family of surrounding loops \(Œ≥_x\) for all \(x\) (this is not yet our final \(Œ≥\)). </p>
<p>We then need to approximate this continuous family by a smooth one. Some care is needed to ensure that it stays based at \(Œ≤\). For instance, we can first compose each loop by some fixed surjective continuous map from \(ùïä^1\) to itself that sends a neighborhood of \(0\) to \(0\). This way each loop becomes constant near \(0\), and a convolution smoothing will then keep the value at \(0\). If the smoothing is sufficiently \(C^0\) small then the new \(Œ≥\) is still surrounding and takes values in \(Œ©\). </p>
<p>Then Lemma&#160;<a href="chap-loops.html#lem:reparametrization">1.15</a> gives a family of circle diffeomorphisms \(h_x\) such that \(Œ≥^1_x ‚àò h_x\) has average \(g(x)\). </p>
<p>Finally we choose a cut-off function function \(œá\) which vanishes on \(\operatorname{Op}{K}\) and equals one on \(\operatorname{Op}{U ‚àñ U^*}\). In \(U^*\), we replace \(Œ≥_x ‚àò h_x = g(x) + Œ≥^* ‚àò h_x\) by \(g(x) + œá(x)Œ≥^* ‚àò h_x\). This operation does not change the average values of these loops, because it rescales them around their average value, but makes them constant on \(\operatorname{Op}{K}\). Also, those loops stay in \(Œ©\), thanks to our choice of \(Œµ\). <div class="proof_wrapper" id="a0000000044">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  
  </div>
</div> </p>

</div> <!--main-text -->
</div> <!-- content-wrapper -->
</div> <!-- content -->
</div> <!-- wrapper -->

<nav class="prev_up_next">
  <svg  id="showmore-minus" class="icon icon-eye-minus showmore"><use xlink:href="symbol-defs.svg#icon-eye-minus"></use></svg>

  <svg  id="showmore-plus" class="icon icon-eye-plus showmore"><use xlink:href="symbol-defs.svg#icon-eye-plus"></use></svg>

  <a href="sect0001.html" title="Introduction"><svg  class="icon icon-arrow-left "><use xlink:href="symbol-defs.svg#icon-arrow-left"></use></svg>
</a>
  <a href="index.html" title="The sphere eversion project"><svg  class="icon icon-arrow-up "><use xlink:href="symbol-defs.svg#icon-arrow-up"></use></svg>
</a>
  <a href="chap-local.html" title="Local theory of convex integration"><svg  class="icon icon-arrow-right "><use xlink:href="symbol-defs.svg#icon-arrow-right"></use></svg>
</a>
</nav>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plastex.js"></script>
<script type="text/javascript" src="js/svgxuse.js"></script>
<script type="text/javascript" src="js/showmore.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
</body>
</html>