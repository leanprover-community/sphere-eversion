<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<meta name="generator" content="plasTeX" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Local theory of convex integration</title>
<link rel="next" href="chap-global.html" title="Global theory of open and ample relations" />
<link rel="prev" href="chap-loops.html" title="Loops" />
<link rel="up" href="index.html" title="The sphere eversion project" />
<link rel="stylesheet" href="styles/theme-blue.css" />
<link rel="stylesheet" href="styles/amsthm.css" />
<link rel="stylesheet" href="styles/showmore.css" />
<link rel="stylesheet" href="styles/stylecours.css" />
</head>

<body>
<header>
<svg  id="toc-toggle" class="icon icon-list-numbered "><use xlink:href="symbol-defs.svg#icon-list-numbered"></use></svg>
<h1 id="doc_title"><a href="index.html">The sphere eversion project</a></h1>
</header>

<div class="wrapper">
<nav class="toc">
<ul class="sub-toc-0">
<li class="">
  <a href="sect0001.html"><span class="toc_ref"></span> <span class="toc_entry">Introduction</span></a>
 </li>
<li class="">
  <a href="chap-loops.html"><span class="toc_ref">1</span> <span class="toc_entry">Loops</span></a>
  <span class="expand-toc">‚ñ∂</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-loops.html#sec:loops_introduction"><span class="toc_ref">1.1</span> <span class="toc_entry">Introduction</span></a>
 </li>
<li class="">
  <a href="chap-loops.html#sec:preliminaries"><span class="toc_ref">1.2</span> <span class="toc_entry">Preliminaries</span></a>
 </li>
<li class="">
  <a href="chap-loops.html#a0000000011"><span class="toc_ref">1.3</span> <span class="toc_entry">Constructing loops</span></a>
 </li>

  </ul>
 </li>
<li class=" active current">
  <a href="chap-local.html"><span class="toc_ref">2</span> <span class="toc_entry">Local theory of convex integration</span></a>
  <span class="expand-toc">‚ñº</span>
  <ul class="sub-toc-1 active">
     <li class="">
  <a href="chap-local.html#sec:convex_integration_intro"><span class="toc_ref">2.1</span> <span class="toc_entry">Key construction</span></a>
 </li>
<li class="">
  <a href="chap-local.html#sec:inductive_step"><span class="toc_ref">2.2</span> <span class="toc_entry">The main inductive step</span></a>
 </li>
<li class="">
  <a href="chap-local.html#sec:ample_differential_relations"><span class="toc_ref">2.3</span> <span class="toc_entry">Ample differential relations</span></a>
 </li>

  </ul>
 </li>
<li class="">
  <a href="chap-global.html"><span class="toc_ref">3</span> <span class="toc_entry">Global theory of open and ample relations</span></a>
  <span class="expand-toc">‚ñ∂</span>
  <ul class="sub-toc-1">
     <li class="">
  <a href="chap-global.html#a0000000012"><span class="toc_ref">3.1</span> <span class="toc_entry">Preliminaries</span></a>
 </li>
<li class="">
  <a href="chap-global.html#a0000000013"><span class="toc_ref">3.2</span> <span class="toc_entry">First order differential relations</span></a>
 </li>
<li class="">
  <a href="chap-global.html#sec:general_theory"><span class="toc_ref">3.3</span> <span class="toc_entry">The \(h\)-principle for open and ample differential relations</span></a>
 </li>

  </ul>
 </li>
  <li></li>	
  <li>	
  <a href="dep_graph.html">Dependency graph</a>
  </li>
  <li>	
  <a href="https://leanprover-community.github.io/sphere-eversion/">Project home</a>
  </li>
</ul>
</nav>

<div class="content">
<div class="content-wrapper">


<div class="main-text">
<h1 id="chap:local">2 Local theory of convex integration</h1>

<h1 id="sec:convex_integration_intro">2.1 Key construction</h1>

<p>The goal of this chapter is to explain the local aspects of (Theilli√®re‚Äôs implementation of) convex integration, the next chapter will cover global aspects. </p>
<p>The elementary step of convex integration modifies the derivative of a map in one direction. The precise meaning of ‚Äúone direction‚Äù rely on the following definition. </p>
<p><div class="definition_thmwrapper" id="def:dual_pair">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.1</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:dual_pair">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/dual_pair.lean#L22">dual_pair'</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  A dual pair on a vector space \(E\) is a pair \((œÄ, v)\) where \(œÄ\) is a linear form on \(E\) and \(v\) a vector in \(E\) such that \(œÄ(v) = 1\). </p>

  </div>
</div> </p>
<p>Let \(E\) and \(F\) be finite dimensional real normed vector spaces. Let \(f \! :E ‚Üí F\) be a smooth map, and let \((œÄ, v)\) be a dual pair on \(E\). We want to modify \(Df\) in the direction of \(v\) while almost preserving it on \(\ker œÄ\). Say we wish \(Df(x)v\) could live in some open subset \(Œ©_x ‚äÇ F\). Assume there is a smooth compactly supported family of loops \(Œ≥ \! :E √ó ùïä^1 ‚Üí F\) such that each \(Œ≥_x\) takes values in \(Œ©_x\), and its average value \(\overline{Œ≥}_x = \int _{ùïä^1} Œ≥_x\) is \(Df(x)v\) for all \(x\). Obviously such loops can exist only if \(Df(x)v\) is in the convex hull of \(Œ©_x\), and we saw in the previous chapter that this is almost sufficient (and we‚Äôll see this is sufficiently almost sufficient for our purposes). Then we can modify \(f\) to fulfil our wish using the following construction. </p>
<p><div class="definition_thmwrapper" id="def:corrugation">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.2</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:corrugation">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/corrugation.lean#L34">corrugation</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  The map obtained by corrugation of \(f\) in direction \((œÄ, v)\) using \(Œ≥\) with oscillation number \(N\) is </p>
<div class="displaymath" id="a0000000041">
  \[  x ‚Ü¶ f(x) + \frac1N ‚à´_0^{NœÄ(x)} \left[Œ≥_x(s) - \overline{Œ≥}_x\right]ds.  \]
</div>

  </div>
</div> </p>
<p>In the above definition, we mostly think of \(N\) as a large natural number. But we don‚Äôt actually require it, any positive real number will do. </p>
<p>The next proposition implies that, provided \(N\) is large enough, we have achieved \(Df'(x)v ‚àà Œ©_x\), almost without modifying derivatives in the directions of \(\ker œÄ\), and almost without moving \(f(x)\). </p>
<p><div class="proposition_thmwrapper" id="prop:theilliere">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">2.3</span>
    <span class="proposition_thmtitle">Theilli√®re 2018</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#prop:theilliere">#</a>
    <a class="icon proof" href="chap-local.html#a0000000042"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:corrugation">Definition 2.2</a></li>
          <li><a href="chap-loops.html#def:loop_family_support">Definition 1.2</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/corrugation.lean#L183">fderiv_corrugated_map</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/corrugation.lean#L82">corrugation.c0_small_on</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/corrugation.lean#L212">remainder_c0_small_on</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/corrugation.lean#L70">corrugation.support</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \(f\) be a \(\mathcal{C}^1\) function from \(E\) to \(F\). Let \((œÄ, v)\) be a dual pair on \(E\). Let \(Œ≥ \! :E √ó ùïä^1 ‚Üí F\) be a \(\mathcal{C}^1\) family of loops such that \(\overline{Œ≥_x} = Df(x)v\) for all \(x\). </p>
<p>For any compact set \(K ‚äÇ E\) and any positive \(Œµ\), the function \(f'\) obtained by corrugation of \(f\) in direction \((œÄ, v)\) using \(Œ≥\) with large enough oscillation number \(N\) satisfies: </p>
<ol class="enumerate">
  <li><p> \(‚àÄ x ‚àà K, ‚Äñf'(x) - f(x)‚Äñ ‚â§ Œµ\) </p>
</li>
  <li><p> \(‚àÄ x ‚àà K, ‚Äñ(Df'(x) - Df(x))_{|\ker œÄ}‚Äñ ‚â§ Œµ\). </p>
</li>
  <li><p> \(‚àÄ x ‚àà K, ‚ÄñDf'(x)v - Œ≥(x, NœÄ(x))‚Äñ ‚â§ Œµ\) </p>
</li>
</ol>
<p> In addition, all the differences estimated above vanish if \(x\) is outside the support of \(Œ≥\). </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000042">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p>We set \(Œì_x(t) = ‚à´_0^t \left(Œ≥_x(s) - \overline{Œ≥}_x\right)ds\), so that \(f'(x) = f(x) + Œì_x(NœÄ(x))/N\). Because each \(Œì_x\) is \(1\)-periodic, and everything has compact support in \(E\), all derivatives of \(Œì\) are uniformly bounded. Item&#160;<a href="chap-local.html#CP:C0">1</a> in the statement is then obvious. Item&#160;<a href="chap-local.html#CP:kerpi">2</a> also follows since \(‚àÇ_if'(x) = ‚àÇ_if(x) + ‚àÇ_iŒì(x, NœÄ(x))/N\). In order to prove Item&#160;<a href="chap-local.html#CP:v">3</a>, we compute: </p>
<span>\begin{align*}  Df‚Äô(x)v & = Df(x)v + \frac1N ‚àÇ_jŒì(x, NœÄ(x)) + \frac NN ‚àÇ_tŒì(x, NœÄ(x))\\ & = Df(x)v + O\left(\frac1N\right) + Œ≥(x, NœÄ(x)) - Df(x)v\\ & = Œ≥(x, NœÄ(x)) + O\left(\frac1N\right). \end{align*}</span>
<p> Outside the support of \(Œ≥\), \(Œì_x\) and its derivative with respect to \(x\) vanish identically (for the derivative computation, it is important that the support of \(Œ≥\) is the <em>closure</em> of the set of \(x\) where \(Œ≥_x\) is not constant). </p>

  </div>
</div>
<h1 id="sec:inductive_step">2.2 The main inductive step</h1>

<p><div class="definition_thmwrapper" id="def:hol_partial">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.4</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:hol_partial">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L226">rel_loc.formal_sol.is_part_holonomic_at</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  Let \(E'\) be a linear subspace of \(E\). A map \(\mathcal{F}= (f, œÜ) : E ‚Üí F √ó \operatorname{Hom}(E, F)\) is \(E'\)‚Äìholonomic if, for every \(v\) in \(E'\) and every \(x\), \(Df(x)v = œÜ(x)v\). </p>

  </div>
</div> </p>
<p><div class="definition_thmwrapper" id="def:rel_loc">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.5</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:rel_loc">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L46">rel_loc</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  A first order differential relation for maps from \(E\) to \(F\) is a subset \(\mathcal{R}\) of \(E √ó F √ó \operatorname{Hom}(E, F)\). </p>

  </div>
</div> </p>
<p>Until the end of this section, \(\mathcal{R}\) will always denote a first order differential relation for maps from \(E\) to \(F\). </p>
<p><div class="definition_thmwrapper" id="def:formal_sol_loc">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.6</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:formal_sol_loc">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:rel_loc">Definition 2.5</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L97">rel_loc.formal_sol</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   A formal solution of a differential relation \(\mathcal{R}\) is a map \(\mathcal{F}= (f, œÜ) \! :E ‚Üí F √ó \operatorname{Hom}(E, F)\) such that, for every \(x\), \((x, f(x), œÜ(x))\) is in \(\mathcal{R}\). </p>

  </div>
</div> </p>
<p>The first component of a map \(\mathcal{F}\! :E ‚Üí F √ó \operatorname{Hom}(E, F)\) will sometimes be denoted by \(\operatorname{bs}\mathcal{F}\! :E ‚Üí F\) and called the base map of \(\mathcal{F}\). </p>
<p><div class="definition_thmwrapper" id="def:htpy_jet_sec_loc">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.7</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:htpy_jet_sec_loc">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L275">htpy_jet_sec</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  A \(1\)-jet section from \(E\) to \(F\) is a function from \(E\) to \(F √ó \operatorname{Hom}(E, F)\). A homotopy of \(1\)-jet sections is a smooth map \(\mathcal{F}: ‚Ñù √ó E ‚Üí F √ó \operatorname{Hom}(E, F)\). </p>

  </div>
</div> </p>
<p>Typically, \(x ‚Ü¶ \mathcal{F}(t, x)\) will be denoted by \(\mathcal{F}_t\). It could seem more natural to take \([0, 1] √ó E\) as the source of a homotopy but this would be less convenient for formalization and wouldn‚Äôt change anything since any map from \(‚Ñù √ó E\) can be restricted to \([0, 1] √ó E\) and every map from \([0, 1] √ó E\) could be extended. </p>
<p><div class="definition_thmwrapper" id="def:rel_slice">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.8</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:rel_slice">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:rel_loc">Definition 2.5</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L57">rel_loc.slice</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   For every \(œÉ = (x, y, œÜ)\), the slice of \(\mathcal{R}\) at \(œÉ\) with respect to \((œÄ, v)\) is: </p>
<div class="displaymath" id="a0000000043">
  \[  \mathcal{R}(œÉ, œÄ, v) = \{ w ‚àà F \; |\;  (x, y, œÜ + (w - œÜ(v)) ‚äó œÄ) ‚àà \mathcal{R}\} .  \]
</div>

  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:update_lin_map">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">2.9</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#lem:update_lin_map">#</a>
    <a class="icon proof" href="chap-local.html#a0000000044"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/dual_pair.lean#L51">dual_pair'.update_ker_pi</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/dual_pair.lean#L60">dual_pair'.update_v</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L249">rel_loc.jet_sec.mem_slice</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>  The linear map \(œÜ + (w - œÜ(v)) ‚äó œÄ)\) coincides with \(œÜ\) on \(\ker œÄ\) and sends \(v\) to \(w\). If \(\sigma \) belongs to \(\mathcal{R}\) then \(œÜ(v)\) belongs to \(\{ w ‚àà F, (x, y, œÜ + (w - œÜ(v)) ‚äó œÄ) ‚àà \mathcal{R}\} \). </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000044">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p>These are direct checks. </p>

  </div>
</div>
<p>We‚Äôll use the notation \(\operatorname{Conn}_w A\) to denote the connected component of \(A\) that contains \(w\), or the empty set if \(w\) doesn‚Äôt belong to \(A\). </p>
<p><div class="definition_thmwrapper" id="def:short_formal_sol">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.10</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:short_formal_sol">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:formal_sol_loc">Definition 2.6</a></li>
          <li><a href="chap-local.html#def:dual_pair">Definition 2.1</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L259">rel_loc.formal_sol.is_short_at</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   A formal solution \(\mathcal{F}\) of \(\mathcal{R}\) is \((œÄ, v)\)‚Äìshort if, for every \(x\), \(Df(x)v\) belonds to the interior of the convex hull of \(\operatorname{Conn}_{œÜ(v)}\mathcal{R}((x, f(x), œÜ(x)), œÄ, v)\). </p>

  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:integration_step">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">2.11</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#lem:integration_step">#</a>
    <a class="icon proof" href="chap-local.html#a0000000045"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:formal_sol_loc">Definition 2.6</a></li>
          <li><a href="chap-local.html#def:short_formal_sol">Definition 2.10</a></li>
          <li><a href="chap-local.html#def:hol_partial">Definition 2.4</a></li>
          <li><a href="chap-local.html#def:htpy_jet_sec_loc">Definition 2.7</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L236">step_landscape.improve_step_rel_t_eq_0</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L269">step_landscape.improve_step_rel_C</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L247">step_landscape.improve_step_rel_compl_K‚ÇÅ</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L287">step_landscape.improve_step_c0_close</a></li>
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L304">step_landscape.improve_step_part_hol</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Let \(\mathcal{F}\) be a formal solution of \(\mathcal{R}\). Let \(K_1 ‚äÇ E\) be a compact subset, and let \(K_0\) be a compact subset of the interior of \(K_1\). Let \(C\) be a closed subset of \(E\). Let \(E'\) be a linear subspace of \(E\) contained in \(\ker œÄ\). Let \(Œµ\) be a positive real number. </p>
<p>Assume \(\mathcal{R}\) is open. Assume that \(\mathcal{F}\) is \(E'\)‚Äìholonomic near \(K_0\), \((œÄ, v)\)‚Äìshort, and holonomic near \(C\). Then there is a homotopy \(\mathcal{F}_t\) such that: </p>
<ol class="enumerate">
  <li><p>\(\mathcal{F}_0 = \mathcal{F}\)&#160;; </p>
</li>
  <li><p>\(\mathcal{F}_t\) is a formal solution of \(\mathcal{R}\) for all \(t\)&#160;; </p>
</li>
  <li><p>\(\mathcal{F}_t(x) = \mathcal{F}(x)\) for all \(t\) when \(x\) is near \(C\) or outside \(K_1\)&#160;; </p>
</li>
  <li><p>\(d(\operatorname{bs}\mathcal{F}_t(x), \operatorname{bs}\mathcal{F}(x)) ‚â§ Œµ\) for all \(t\) and all \(x\)&#160;; </p>
</li>
  <li><p>\(\mathcal{F}_1\) is \(E' ‚äï ‚Ñùv\)‚Äìholonomic near \(K_0\). </p>
</li>
</ol>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000045">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p>  We denote the components of \(F\) by \(f\) and \(œÜ\). Since \(\mathcal{F}\) is short, <a href="chap-loops.html#prop:loops">proposition 1.3</a> applied to \(g \! :x ‚Ü¶ Df(x)v\), \(Œ≤ \! :x ‚Ü¶ œÜ(x)v\), \(Œ©_x = \mathcal{R}(\mathcal{F}(x), œÄ, v)\), and \(K = C ‚à© K_1\) gives us a smooth family of loops \(Œ≥ \! :E √ó [0, 1] √ó ùïä^1 ‚Üí F\) such that, for all \(x\): </p>
<ul class="itemize">
  <li><p>\(‚àÄ t\,  s,\;  Œ≥^t_x(s) ‚àà \mathcal{R}(\mathcal{F}(x), œÄ, v)\) </p>
</li>
  <li><p>\(‚àÄ s,\;  Œ≥^0_x(s) = œÜ(x)v\) </p>
</li>
  <li><p>\(\barŒ≥^1_x = Df(x)v\) </p>
</li>
  <li><p>if \(x\) is near \(C\), \(‚àÄt\,  s,\;  Œ≥^t_x(s) = œÜ(x)v\) </p>
</li>
</ul>
<p> Let \(œÅ: E ‚Üí ‚Ñù\) be a smooth cut-off function which equals one on a neighborhood of \(K_0\) and whose support is contained in \(K_1\). </p>
<p>Let \(N\) be a positive real number. Let \(\bar f\) be the corrugated map constructed from \(f\), \(Œ≥^1\) and \(N\). <a href="chap-local.html#prop:theilliere">Proposition 2.3</a> ensures that, for all \(x\), </p>
<div class="displaymath" id="a0000000046">
  \[  D\bar f(x) = Df(x) + \left[Œ≥^1_x(NœÄ(x)) - Df(x)v\right] ‚äó œÄ + \frac1N B_x  \]
</div>
<p> for some bounded map \(B\) which vanishes whenever \(Œ≥_x\) is constant, hence vanishes near \(C\). </p>
<p>We set \(\mathcal{F}_t(x) = \big (f_t(x), œÜ_t(x)\big )\) where: </p>
<div class="displaymath" id="a0000000047">
  \[  f_t(x) = f(x) + \frac{tœÅ(x)}N \int _0^{NœÄ(x)} \left[Œ≥^t_x(s) - Df(x)v\right]\,  ds  \]
</div>
<p> and </p>
<div class="displaymath" id="a0000000048">
  \[  œÜ_t(x) = œÜ(x) + \left[Œ≥^{tœÅ(x)}_x(NœÄ(x)) - œÜ(x)v\right] ‚äó œÄ + \frac{tœÅ(x)}N B_x.  \]
</div>
<p>We now prove that \(\mathcal{F}_t\) has the announced properties, starting with he obvious ones. The fact that \(\mathcal{F}_0 = \mathcal{F}\) is obvious since \(Œ≥^0_x(s) = œÜ(x)v\) for all \(s\). </p>
<p>When \(x\) is near \(C\), \(Df(x) = œÜ(x)\) since \(\mathcal{F}\) is holonomic near \(C\). In addition, \(Œ≥^t_x(s) = œÜ(x)v\) for all \(s\) and \(t\), hence \(B_x\) vanishes. Hence \(\mathcal{F}_t(x) = \mathcal{F}(x)\) for all \(t\) when \(x\) is near \(C\). </p>
<p>Outside of \(K_1\), \(œÅ\) vanishes. Hence \(f_t(x) = f(x)\) for all \(t\), and \(Œ≥^{tœÅ(x)}_x(s) = œÜ(x)v\) for all \(s\) and \(t\), and \(œÜ_t(x) = œÜ(x)\). </p>
<p>The distance between \(f(x)\) and \(f_t(x)\) is zero outside of \(K_1\) which is compact, and \(O\left(1/N\right)\), so it is less than \(Œµ\) for \(N\) large enough. </p>
<p>We now turn to the interesting parts. The first one is that each \(\mathcal{F}_t\) is a formal solution of \(\mathcal{R}\). We already now that \(\mathcal{F}_t\) coincides with \(\mathcal{F}\), which is a formal solution, outside of the compact set \(K_1\). We set </p>
<div class="displaymath" id="a0000000049">
  \[  \mathcal{F}'_t(x) = \left(f(x), œÜ(x) + \left[Œ≥^{tœÅ(x)}_x(NœÄ(x)) - œÜ(x)v\right] ‚äó œÄ\right).  \]
</div>
<p> Since \(\mathcal{R}\) is open, and \(K_1 √ó [0, 1]\) is compact and \(\mathcal{F}_t\) is within \(O\left(1/N\right)\) of \(\mathcal{F}'_t\), it suffices to prove that \(\mathcal{F}'_t\) is a formal solution for all \(t\). This is guaranteed by the definition of the slice \(\mathcal{R}(\mathcal{F}(x), œÄ, v)\) to which \(Œ≥^{tœÅ(x)}_x(NœÄ(x))\) belongs. </p>
<p>Finally, let‚Äôs prove that \(\mathcal{F}_1\) is \(E' ‚äï ‚Ñùv\)‚Äìholonomic near \(K_0\). Since \(œÅ = 1\) near \(K_0\), we have, for \(x\) near \(K_0\), </p>
<div class="displaymath" id="a0000000050">
  \[  Df_1(x) = Df(x) + \left[Œ≥^1_x(NœÄ(x)) - Df(x)v\right] ‚äó œÄ + \frac1N B_x,  \]
</div>
<p> and </p>
<div class="displaymath" id="a0000000051">
  \[  œÜ_1(x) = œÜ(x) + \left[Œ≥^1_x(NœÄ(x)) - œÜ(x)v\right] ‚äó œÄ + \frac{1}N B_x.  \]
</div>
<p> Let \(p\) be the projection of \(E\) onto \(\ker œÄ\) along \(v\), so that \(\operatorname{Id}_E = p + v ‚äó œÄ\). We can rewrite the above formulas as </p>
<div class="displaymath" id="a0000000052">
  \[  Df_1(x) = Df(x) ‚àò p + Œ≥^1_x(NœÄ(x)) ‚äó œÄ + \frac1N B_x,  \]
</div>
<p> and </p>
<div class="displaymath" id="a0000000053">
  \[  œÜ_1(x) = œÜ(x) ‚àò p + Œ≥^1_x(NœÄ(x)) ‚äó œÄ + \frac{1}N B_x.  \]
</div>
<p> So we see the difference is \(Df(x) ‚àò p - œÜ(x) ‚àò p\) which vanishes on \(E'\) since \(\mathcal{F}\) is \(E'\)‚Äìholonomic near \(K_0\), and vanishes on \(v\) since \(p(v) = 0\). </p>

  </div>
</div>
<h1 id="sec:ample_differential_relations">2.3 Ample differential relations</h1>

<p><div class="definition_thmwrapper" id="def:ample_subset">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.12</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:ample_subset">#</a>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/ample.lean#L31">ample_set</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>  A subset \(Œ©\) of a real vector space \(E\) is ample if the convex hull of each connected component of \(Œ©\) is the whole \(E\). </p>

  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:ample_codim_two">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">2.13</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#lem:ample_codim_two">#</a>
    <a class="icon proof" href="chap-local.html#a0000000054"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:ample_subset">Definition 2.12</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/ample.lean#L146">ample_of_two_le_codim</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   The complement of a linear subspace of codimension at least 2 is ample. </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000054">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p>Let \(F\) be subspace of \(E\) with codimension at least \(2\). Let \(F'\) be a complement subspace. Its dimension is at least \(2\) since it is isomorphic to \(E/F\) and \(\dim (E/F) = \operatorname{codim}(F) ‚â• 2\). First note the complement of \(F\) is path-connected. Indeed let \(x\) and \(y\) be points outside \(F\). Decomposing on \(F ‚äï F'\), we get \(x = u + u'\) and \(y = v + v'\) with \(u' ‚â† 0\) and \(v' ‚â† 0\). The segments from \(x\) to \(u'\) and \(y\) to \(v'\) stay outside \(F\), so it suffices to connect \(u'\) and \(v'\) in \(F' ‚àñ \{ 0\} \). If the segment from \(u'\) to \(v'\) doesn‚Äôt contains the origin then we are done. Otherwise \(v' = Œºu'\) for some (negative) \(u'\). Since \(\dim (F') ‚â• 2\) and \(u' ‚â† 0\), there exists \(f ‚àà F'\) which is linearly independent from \(u'\), hence from \(v'\). We can then connect both \(u'\) and \(v'\) to \(f\) by a segment away from zero. </p>
<p>We now turn to ampleness. The connectedness result reduces to prove that every \(e\) in \(E\) is in the convex hull of \(E ‚àñ F\). If \(e\) is not in \(F\) then it is the convex combination of itself with coefficient \(1\) and we are done. Now assume \(e\) is in \(F\). The codimension assumption guarantees the existence of a subspace \(G\) such that \(\dim (G) = 2\) and \(G ‚à© F = \{ 0\} \). Let \((g_1, g_2)\) be a basis of \(G\). We set \(p_1 = e + g_1\), \(p_2 = e + g_2\), \(p_3 = e - g_1 - g_2\). All these points are in \(E ‚àñ F\) and \(e = p_1/3 + p_2/3 + p_3/3\). </p>

  </div>
</div>
<p><div class="definition_thmwrapper" id="def:ample_relation_loc">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2.14</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#def:ample_relation_loc">#</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:ample_subset">Definition 2.12</a></li>
          <li><a href="chap-local.html#def:rel_loc">Definition 2.5</a></li>
          <li><a href="chap-local.html#def:rel_slice">Definition 2.8</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L61">rel_loc.is_ample</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="definition_thmcontent">
  <p>   A first order differential relation \(\mathcal{R}\) is ample if all its slices are ample. </p>

  </div>
</div> </p>
<p><div class="lemma_thmwrapper" id="lem:open_ample_immersion_loc">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">2.15</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#lem:open_ample_immersion_loc">#</a>
    <a class="icon proof" href="chap-local.html#a0000000055"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:ample_subset">Definition 2.12</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/relation.lean#L516">rel_immersion_loc.ample</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>  The relation of immersions in positive codimension is open and ample. </p>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000055">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p> For every \(œÉ = (x, y, œÜ)\) in the immersion relation \(\mathcal{R}\), and for every dual pair \((œÄ, v)\), the slice \(\mathcal{R}(œÉ, œÄ, v)\) is the set of \(w\) which do not belong to the image of \(\ker œÄ\) under \(œÜ\). Since \(\dim F {\gt} \dim E\), this image has codimension at least \(2\) in \(F\), and <a href="chap-local.html#lem:ample_codim_two">lemma 2.13</a> concludes. </p>

  </div>
</div>
<p><div class="lemma_thmwrapper" id="lem:h_principle_open_ample_loc">
  <div class="lemma_thmheading">
    <span class="lemma_thmcaption">
    Lemma
    </span>
    <span class="lemma_thmlabel">2.16</span>
    ‚úì
    <div class="thm_icons">
    <a class="icon proof" href="chap-local.html#lem:h_principle_open_ample_loc">#</a>
    <a class="icon proof" href="chap-local.html#a0000000056"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="chap-local.html#def:ample_relation_loc">Definition 2.14</a></li>
        </ul>

      </div>
    </div>
    <button class="modal lean">L‚àÉ‚àÄN</button>
    <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
                <ul class="uses">
          <li><a href="https://github.com/leanprover-community/sphere-eversion//blob/d61fdc6efb85ee6c461f28e71d5780b383db586e/src/local/h_principle.lean#L409">rel_loc.formal_sol.improve</a></li>
        </ul>

      </div>
    </div>

  </div>
  </div>
  <div class="lemma_thmcontent">
  <p>   Let \(\mathcal{F}\) be a formal solution of \(\mathcal{R}\). Let \(K_1 ‚äÇ E\) be a compact subset, and let \(K_0\) be a compact subset of the interior of \(K_1\). Assume \(\mathcal{F}\) is holonomic near a closed subset \(C\) of \(E\). Let \(Œµ\) be a positive real number. </p>
<p>If \(\mathcal{R}\) is open and ample then there is a homotopy \(\mathcal{F}_t\) such that: </p>
<ol class="enumerate">
  <li><p>\(\mathcal{F}_0 = \mathcal{F}\) </p>
</li>
  <li><p>\(\mathcal{F}_t\) is a formal solution of \(\mathcal{R}\) for all \(t\)&#160;; </p>
</li>
  <li><p>\(\mathcal{F}_t(x) = \mathcal{F}(x)\) for all \(t\) when \(x\) is near \(C\) or outside \(K_1\). </p>
</li>
  <li><p>\(d(\operatorname{bs}\mathcal{F}_t(x), \operatorname{bs}\mathcal{F}(x)) ‚â§ Œµ\) for all \(t\) and all \(x\)&#160;; </p>
</li>
  <li><p>\(\mathcal{F}_1\) is holonomic near \(K_0\). </p>
</li>
</ol>

  </div>
</div> </p>
<div class="proof_wrapper" id="a0000000056">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">‚ñº</span>
  </div>
  <div class="proof_content">
  <p> This is a straightforward induction using <a href="chap-local.html#lem:integration_step">lemma 2.11</a>. Let \((e_1, \dots , e_n)\) be a basis of \(E\), and let \((œÄ_1, \dots , œÄ_n)\) be the dual basis. Let \(E'_i\) be the linear subspace of \(E\) spanned by \((e_1, \dots , e_i)\), for \(1 ‚â§ i ‚â§ n\), and let \(E'_0\) be the zero subspace of \(E\). Each \((œÄ_i, e_i)\) is a dual pair and the kernel of \(œÄ_i\) contains \(E'_{i - 1}\). </p>
<p><a href="chap-local.html#lem:integration_step">Lemma 2.11</a> allows to build a sequence of homotopies of formal solutions, each homotopy relating a formal solution which is \(E'_i\)‚Äìholonomic to one which is \(E'_{i+1}\)‚Äìholonomic (always near \(K_0\)). The shortness condition is always satisfies because \(\mathcal{R}\) is ample. Each homotopy starts where the previous one stopped, stay at \(C^0\) distance at most \(Œµ/n\), and is relative to \(C\) and the complement of \(K_1\). </p>
<p>It then suffices to do a smooth concatenation of theses homotopies. We first pre-compose with a smooth map from \([0, 1]\) to itself that fixes \(0\) and \(1\) and has vanishing derivative to all orders at \(0\) and \(1\). Then we precompose by affine isomorphisms from \([0, 1]\) to \([i/n, (i + 1)/n]\) before joining them. </p>

  </div>
</div>

</div> <!--main-text -->
</div> <!-- content-wrapper -->
</div> <!-- content -->
</div> <!-- wrapper -->

<nav class="prev_up_next">
  <svg  id="showmore-minus" class="icon icon-eye-minus showmore"><use xlink:href="symbol-defs.svg#icon-eye-minus"></use></svg>

  <svg  id="showmore-plus" class="icon icon-eye-plus showmore"><use xlink:href="symbol-defs.svg#icon-eye-plus"></use></svg>

  <a href="chap-loops.html" title="Loops"><svg  class="icon icon-arrow-left "><use xlink:href="symbol-defs.svg#icon-arrow-left"></use></svg>
</a>
  <a href="index.html" title="The sphere eversion project"><svg  class="icon icon-arrow-up "><use xlink:href="symbol-defs.svg#icon-arrow-up"></use></svg>
</a>
  <a href="chap-global.html" title="Global theory of open and ample relations"><svg  class="icon icon-arrow-right "><use xlink:href="symbol-defs.svg#icon-arrow-right"></use></svg>
</a>
</nav>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plastex.js"></script>
<script type="text/javascript" src="js/svgxuse.js"></script>
<script type="text/javascript" src="js/js.cookie.min.js"></script>
<script type="text/javascript" src="js/showmore.js"></script>
</body>
</html>